@{
    ViewBag.Title = "Monitoring";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="content">
<div class="container">
        <div class="card" style="background-color:white">
            <div class="card-header " >
                <h2 class="card-title badge text-light font-weight-bolder" style="background-color:#319DA0">Monitoring Kliring</h2>
                <p class="card-text font-weight-bolder">Transaksi Kliring</p>
        </div>
    <div class="card-body">
                <div class="row" style="margin-left:20px">
                    
                    <div class="col-sm-4">
                        <label class="bmd-label-floating">Tanggal Mulai Register</label>
                        <input id="Startreport" type="date" class="form-control" />
                    </div>
                    <div class="col-sm-4">
                        <label class="bmd-label-floating">Tanggal Selesai Register</label>
                        <input id="Endreport" type="date" class="form-control" />
                    </div>
                    <div class="col-md-3">
                        <br />
                        <button class="btn btn-primary " onclick="">Filter</button>
                    </div>                
                </div>

@*            <div class="form-group row" >
        <div class="col-md-2">
            <label class="bmd-label-floating"> Tanggal Start</label>
            <input id="Register" type="date" class="form-control-date" >
        </div>        
        <div class="col-md-2">
            <label class="bmd-label-floating"> Tanggal End</label>
            <input id="Register" type="date" class="form-control-date">
        </div>
                <div class="col-md-1">
                    <br />
                    <button class="btn btn-primary" onclick="">Filter</button>
                </div>
         </div>*@
       <br />
            <table id="table" class="table ">
                    <thead style="background-color:#319DA0">
                    <tr>
                    <th>No.</th>
                    <th>Tanggal Register</th>
                    <th>Bank</th>
                    <th>No.Rek</th>
                    <th>Nasabah Penerima.</th>
                    <th>Alasan</th>
                    <th>SLA(HK)</th>
                    <th>Tipe Transaksi</th>
                    <th>Action</th>
                        </tr>
                </thead>
            </table>
    </div>
</div>
</div>
</section>

@section scripts{

 <script>

      $(document).ready(function () {
            Read();
        });

        function Read() {
            var t = $("#table").DataTable({
                "ajax": {
                    "url": "@Url.Action("GetList","Account")",
                    "type": "GET",
                    "datatype": "json"
                },
                "columns": [
                    { "data": null },
                    { "data": "Tanggal" },
                    { "data": "Bank" },
                    { "data": "Norek" },
                    { "data": "Nasabah-Penerima" },
                    { "data": "Alasan" },
                    { "data": "SLA(HK)" },
                    { "data": "Tipe-Transaksi" },
                    {
                        "render": function (data, type, row) {
                            return "<button class='btn btn-warning btn-sm text-white' onclick = GetById('" + row.id + "');><i class='fas fa-edit'></i></button> " +
                                "<button class='btn btn-danger btn-sm text-white' onclick = Delete('" + row.id + "');><i class='fa fa-trash'></i></button>";
                        },

                    },
                ]
            })
            t.on('order.dt search.dt', function () {
                t.column(0, { search: 'applied', order: 'applied' }).nodes().each(function (cell, i) {
                    cell.innerHTML = i + 1;
                });
            }).draw();

            $, ajax({
                url: "@Url.Action("GetAllKelompok","Master")",
                type: "get",
                dataType: "json",
                success: function ({ data }) {
                    $.Each(data, function (i, kel) {
                        $("select[name=kelompokId]").append(`<option value="${kel.Id}">${kel.nama}</option> `)
                    })
                }
            })
        }
  </script>
                }